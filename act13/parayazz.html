<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Corazones Verdes y Rojos わ</title>
<style>
body {
margin: 0;
display: flex;
justify-content: center;
align-items: center;
background: #111;
height: 100vh;
}
canvas {
background: #222;
}
</style>
</head>
<body>
<canvas id="canvas" width="500" height="500"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const pixelSize = 18;

// patr贸n pixelado del coraz贸n
const heartPattern = [
"001100001100",
"011110011110",
"111111111111",
"111111111111",
"011111111110",
"001111111100",
"000111111000",
"000011110000",
"000001100000"
];

let particles = [];
let time = 0;

function drawHeart(baseX, baseY, color, phase) {
ctx.fillStyle = color;
heartPattern.forEach((row, y) => {
row.split("").forEach((col, x) => {
if (col === "1") {
let randOffset = (x + y) * 0.5 + phase;
let scale = 1 + Math.cos(time + randOffset) * 0.08; // palpita
ctx.fillRect(
baseX + x * pixelSize,
baseY + y * pixelSize,
pixelSize * scale,
pixelSize * scale
);

// Probabilidad de soltar part铆cula
if (Math.random() < 0.0025) {
particles.push({
x: baseX + x * pixelSize + pixelSize / 2,
y: baseY + y * pixelSize + pixelSize / 2,
color: color,
t: 0
});
}
}
});
});
}

function drawParticles() {
for (let i = particles.length - 1; i >= 0; i--) {
const p = particles[i];
p.t += 0.05;
p.y += 1.1;
let offsetX = Math.sin(p.t * 2) * 5;
let scale = Math.abs(Math.cos(p.t)) * 1.2;
ctx.fillStyle = p.color;
ctx.fillRect(p.x + offsetX, p.y, pixelSize * 0.4 * scale, pixelSize * 0.4 * scale);
if (p.y > canvas.height) particles.splice(i, 1);
}
}

// Animaci贸n principal
function animate() {
ctx.clearRect(0, 0, canvas.width, canvas.height);

const t = (Math.sin(time * 0.5) + 1) / 2; // 0 a 1
const greenX = 120 + (60 * (1 - t)); // se acerca desde izquierda
const redX = 240 - (60 * (1 - t)); // se acerca desde derecha
const baseY = 130;

if (t < 0.9) {
// Corazones separados que se acercan
drawHeart(greenX, baseY, "#32CD32", 0);
drawHeart(redX, baseY, "#C25C5C", 1);
} else {
// Fusi贸n: coraz贸n mitad verde / mitad rojo
heartPattern.forEach((row, y) => {
row.split("").forEach((col, x) => {
if (col === "1") {
const color = x < row.length / 2 ? "#32CD32" : "#C25C5C";
let randOffset = (x + y) * 0.4;
let scale = 1 + Math.cos(time * 1.5 + randOffset) * 0.1;
ctx.fillStyle = color;
ctx.fillRect(
180 + x * pixelSize,
baseY + y * pixelSize,
pixelSize * scale,
pixelSize * scale
);

// part铆culas desde el coraz贸n fusionado
if (Math.random() < 0.003) {
particles.push({
x: 180 + x * pixelSize,
y: baseY + y * pixelSize,
color: color,
t: 0
});
}
}
});
});
}

drawParticles();
time += 0.05;
requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>





