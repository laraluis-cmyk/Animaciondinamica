<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Reloj con estrellas</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #000;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>
<canvas id="fondo"></canvas>
<canvas id="reloj" width="400" height="400" style="position:absolute; left:50%; top:50%; transform:translate(-50%, -50%);"></canvas>

<script>
const fondo = document.getElementById("fondo");
const ctxFondo = fondo.getContext("2d");
const reloj = document.getElementById("reloj");
const ctx = reloj.getContext("2d");
const cx = reloj.width / 2;
const cy = reloj.height / 2;

fondo.width = window.innerWidth;
fondo.height = window.innerHeight;

let estrellas = [];
for (let i = 0; i < 200; i++) {
  estrellas.push({
    x: Math.random() * fondo.width,
    y: Math.random() * fondo.height,
    r: Math.random() * 1.5,
    v: 0.2 + Math.random() * 0.3
  });
}

function dibujarFondo() {
  ctxFondo.clearRect(0, 0, fondo.width, fondo.height);
  ctxFondo.fillStyle = "white";
  for (let e of estrellas) {
    ctxFondo.beginPath();
    ctxFondo.arc(e.x, e.y, e.r, 0, Math.PI * 2);
    ctxFondo.fill();
    e.y += e.v;
    if (e.y > fondo.height) e.y = 0;
  }
}

let vrSeg = 0.1;
let vrMin = vrSeg / 60;
let vrHor = vrMin / 12;

let angSeg = 0;
let angMin = 0;
let angHor = 0;

function dibujarReloj() {
  ctx.clearRect(0, 0, reloj.width, reloj.height);

  ctx.beginPath();
  ctx.arc(cx, cy, 150, 0, Math.PI * 2);
  ctx.strokeStyle = "#ddd";
  ctx.lineWidth = 5;
  ctx.stroke();

  for (let i = 0; i < 12; i++) {
    let ang = i * (Math.PI * 2 / 12);
    let x1 = cx + Math.cos(ang) * 130;
    let y1 = cy + Math.sin(ang) * 130;
    let x2 = cx + Math.cos(ang) * 140;
    let y2 = cy + Math.sin(ang) * 140;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.lineWidth = 4;
    ctx.strokeStyle = "#fff";
    ctx.stroke();
  }

  ctx.save();
  ctx.translate(cx, cy);
  ctx.rotate(angHor);
  ctx.fillStyle = "#999";
  ctx.fillRect(-3, -20, 6, 80);
  ctx.restore();

  ctx.save();
  ctx.translate(cx, cy);
  ctx.rotate(angMin);
  ctx.fillStyle = "#00b4d8";
  ctx.fillRect(-2, -20, 4, 110);
  ctx.restore();

  ctx.save();
  ctx.translate(cx, cy);
  ctx.rotate(angSeg);
  ctx.fillStyle = "#ff006e";
  ctx.fillRect(-1, -30, 2, 130);
  ctx.restore();

  ctx.beginPath();
  ctx.arc(cx, cy, 5, 0, Math.PI * 2);
  ctx.fillStyle = "#fff";
  ctx.fill();
}

function animar() {
  dibujarFondo();
  angSeg += vrSeg;
  angMin += vrMin;
  angHor += vrHor;
  dibujarReloj();
  requestAnimationFrame(animar);
}

animar();
</script>
</body>
</html>

